{
  "name": "java-maven",
  "description": "Template for Java projects using Maven",
  "variables": {
    "projectIdentifier": "<artifactId>{{projectIdentifier}}</artifactId>",
    "version": "<version>{{version}}</version>"
  },

  "detect": {
    "manifest": "pom.xml",
    "searchPattern": "<artifactId>{{identifier}}</artifactId>"
  },

  "steps": [
    {
      "name": "Build artifact",
      "cmd": "mvn clean install",
      "workdir": "$2"
    },
    {
      "name": "Update pom versions",
      "cmd": "correlate replace $1",
      "workdir": "./"
    },
    {
      "name": "Recompile dependent projects",
      "cmd": "mvn clean compile -U",
      "workdir": "./"
    }
  ]
}